<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's Day Langga! ‚ù§Ô∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root{
            --bg-1: #0b0f1a;
            --bg-2: #071020;
            --neon-cyan: #00f0ff;
            --neon-pink: #ff4dd2;
            --neon-purple: #9b6bff;
            --glass: rgba(255,255,255,0.04);
            --muted: #9aa4b2;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
            overflow-x: hidden;
            background: radial-gradient(1200px 600px at 10% 10%, rgba(155,107,255,0.06), transparent 10%),
                        radial-gradient(1000px 500px at 90% 80%, rgba(0,240,255,0.04), transparent 10%),
                        linear-gradient(180deg, var(--bg-1) 0%, var(--bg-2) 100%);
            color: #e6eef8;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Starry GIF background layer (place the GIF at assets/starry.gif) */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            background-image: url('giphy.gif');
            background-position: center top;
            background-repeat: no-repeat;
            background-size: cover;
            opacity: 0.85;
            transform-origin: center;
            filter: saturate(1.05) contrast(1.02) blur(2px);
        }

        /* When reduced motion is preferred, keep the GIF opacity lower and avoid parallax/animation */
        @media (prefers-reduced-motion: reduce) {
            body::before { opacity: 0.6; }
            .floating-heart, .char-float { animation: none !important; }
        }

        /* Floating Shapes Animation (neon) */
        .heart-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            mix-blend-mode: screen;
        }

        .floating-heart {
            position: absolute;
            color: var(--neon-cyan);
            animation: floatHeart linear infinite;
            filter: drop-shadow(0 0 12px rgba(0,240,255,0.22)) blur(0.2px);
            transform-origin: center;
            opacity: 0.9;
        }
        
        @keyframes floatHeart {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0.5);
                opacity: 0;
            }
            20% {
                opacity: 0.8;
            }
            80% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100px) rotate(360deg) scale(1.5);
                opacity: 0;
            }
        }

        /* Custom Classes */
        .handwriting {
            /* Repurposed for futuristic headings */
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            letter-spacing: 0.02em;
            text-transform: uppercase;
        }

        /* Hero-specific responsive tweaks */
        .hero-section {
            min-height: 88vh;
            padding-top: 2rem;
            padding-bottom: 2rem;
        }

        .hero-title {
            font-size: 3.5rem;
            line-height: 1;
            letter-spacing: 0.02em;
        }

        .hero-subtitle {
            font-size: 1.4rem;
            margin-bottom: 1.25rem;
            color: rgba(230,238,248,0.9);
            font-weight: 600;
        }

        .hero-decor { opacity: 0.9; }

        @media (max-width: 640px) {
            .hero-section { min-height: 64vh; padding-top: 1.25rem; padding-bottom: 1.25rem; }
            .hero-title { font-size: 1.75rem !important; }
            .hero-subtitle { font-size: 1rem !important; }
            .hero-decor { display: none !important; }
            .handwriting { font-size: 1rem; }
            .hero-gradient { opacity: 0.6; }
            .heart-icon-pulse { font-size: 2rem; }
        }

        .glass-morphism {
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.025));
            backdrop-filter: blur(8px) saturate(1.2);
            border: 1px solid rgba(255,255,255,0.06);
            box-shadow: 0 8px 40px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
        }

        .hero-gradient {
            background: radial-gradient(circle at 20% 20%, rgba(155,107,255,0.12) 0%, transparent 30%),
                        radial-gradient(circle at 80% 80%, rgba(0,240,255,0.08) 0%, transparent 30%);
        }

        .love-letter {
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            box-shadow: 0 12px 40px rgba(15, 20, 30, 0.6), inset 0 1px 0 rgba(255,255,255,0.02);
            transform-style: preserve-3d;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(255,255,255,0.03);
        }

        .love-letter:hover {
            transform: translateY(-5px) rotateX(2deg);
        }

        .heart-icon-pulse {
            animation: heartBeat 1.5s ease-in-out infinite;
            filter: drop-shadow(0 6px 20px rgba(155,107,255,0.12));
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.1); }
            40% { transform: scale(1); }
            60% { transform: scale(1.1); }
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .romantic-card {
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            border-radius: 1.5rem;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.04);
        }

        .romantic-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 192, 203, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .countdown-number {
            background: linear-gradient(145deg, #fff5f7, #fff0f3);
            box-shadow: 0 8px 40px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
            transition: transform 0.25s ease, box-shadow 0.25s ease;
            padding: 1.25rem;
            border-radius: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(4px);
        }

        .countdown-number:hover {
            transform: translateY(-6px) scale(1.03);
            box-shadow: 0 14px 40px rgba(255,105,180,0.18);
        }

        /* Larger, styled numbers for the countdown (digital/neon) */
        #days, #hours, #minutes, #seconds {
            font-size: 2.6rem;
            line-height: 1;
            font-weight: 700;
            color: var(--neon-cyan);
            text-shadow: 0 8px 28px rgba(0,240,255,0.14), 0 1px 0 rgba(255,255,255,0.02);
            font-family: 'Orbitron', monospace;
            letter-spacing: 0.02em;
        }

        /* Anniversary badge styling */
        .anniversary-badge {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            border-radius: 999px;
            font-weight: 600;
            box-shadow: 0 18px 50px rgba(155,107,255,0.08), 0 6px 30px rgba(0,240,255,0.04) inset;
            border: 1px solid rgba(0,240,255,0.08);
            color: #0b1020;
            font-size: 1.05rem;
            position: relative;
            overflow: visible;
            background: linear-gradient(90deg, rgba(0,240,255,0.95), rgba(155,107,255,0.9));
            color: #071026;
        }

        .anniversary-badge::after {
            content: '';
            position: absolute;
            inset: -8px;
            border-radius: 999px;
            background: radial-gradient(circle at 30% 30%, rgba(0,240,255,0.12), transparent 40%);
            filter: blur(12px);
            z-index: -1;
            pointer-events: none;
        }

        @media (max-width: 640px) {
            #days, #hours, #minutes, #seconds { font-size: 2rem; }
            .anniversary-badge { font-size: 1rem; padding: 0.6rem 1rem; }
        }

        .music-player {
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            border: 1px solid rgba(0,240,255,0.06);
            box-shadow: 0 20px 60px rgba(0,0,0,0.6);
            position: relative;
            overflow: hidden;
        }

        /* Visualizer Styles */
        .visualizer-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 140px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 6px;
            padding: 0 5px;
            z-index: 1;
            pointer-events: none;
            mix-blend-mode: screen;
        }

        .visualizer-bar {
            width: 12px;
            border-radius: 6px 6px 0 0;
            transition: height 0.06s linear, box-shadow 0.06s linear;
            box-shadow: 0 0 20px rgba(0,240,255,0.12);
            animation: barPulse 0.9s ease-in-out infinite;
            background: linear-gradient(180deg, var(--neon-cyan), var(--neon-purple));
        }

        @keyframes barPulse {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }

        /* Progress Bar Styles */
        .progress-container {
            width: 100%;
            height: 6px;
            background: rgba(255, 182, 193, 0.3);
            border-radius: 3px;
            margin: 15px 0 10px;
            position: relative;
            z-index: 10;
            cursor: pointer;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ffb6b6, #ffd9d9, #ffb6b6, #ff6b6b);
            background-size: 200% 100%;
            border-radius: 3px;
            width: 0%;
            position: relative;
            animation: gradientMove 3s ease infinite;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .progress-handle {
            width: 12px;
            height: 12px;
            background: white;
            border: 2px solid #ff6b6b;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
            opacity: 0;
            transition: opacity 0.2s ease;
            pointer-events: none;
        }

        .progress-container:hover .progress-handle {
            opacity: 1;
        }

        /* Time display */
        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: #ffffff;
            margin-top: 5px;
            z-index: 10;
            position: relative;
        }

        .surprise-button {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e, #ffb6b6, #ff8e8e, #ff6b6b);
            background-size: 300% 300%;
            animation: gradientShift 5s ease infinite;
            box-shadow: 0 10px 30px -5px rgba(255, 107, 107, 0.5);
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .surprise-message {
            /* removed boxed background to let page backdrop show through */
            background: transparent;
            border: none;
            box-shadow: none;
            transform-origin: top;
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: scaleY(0);
            }
            to {
                opacity: 1;
                transform: scaleY(1);
            }
        }

        .divider {
            background: linear-gradient(90deg, transparent, rgba(255, 105, 180, 0.3), transparent);
            height: 2px;
            width: 100%;
            margin: 3rem 0;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #ffe6e6;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #ff6b6b, #ffb6b6);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, #ff4d4d, #ff9999);
        }

        /* Hide audio element */
        #hiddenAudio {
            display: none;
        }

        /* Animated character (bottom-right) */
        .animated-character {
            position: fixed;
            right: 20px;
            bottom: 20px;
            width: 140px;
            height: 160px;
            z-index: 60;
            pointer-events: auto;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            transition: transform 0.25s ease;
        }

        .animated-character:hover { transform: translateY(-6px) scale(1.03); }

        .char-float { animation: floatY 3.8s ease-in-out infinite; }
        @keyframes floatY { 0% { transform: translateY(0); } 50% { transform: translateY(-8px); } 100% { transform: translateY(0); } }

        .char-robot svg { width: 100%; height: auto; display: block; }

        .char-eye { transform-origin: center; }
        .char-eye.blink { animation: blink 4s infinite; }
        @keyframes blink { 0%,94% { transform: scaleY(1); } 96% { transform: scaleY(0.08); } 100% { transform: scaleY(1); } }

        /* character shadow and mouth */
        .char-shadow { filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5)); }
        .char-mouth { transform-origin: 60px 76px; transform-box: fill-box; transition: transform 220ms ease; }
        .char-mouth.smile { transform: translateY(2px) scale(1.6,0.5); }

        /* wave on click */
        .char-wave { animation: wave 420ms ease; }
        @keyframes wave { 0% { transform: translateY(0) rotate(0deg); } 40% { transform: translateY(-10px) rotate(-6deg); } 100% { transform: translateY(0) rotate(0deg); } }

        /* small screens: hide to avoid overlap */
        @media (max-width: 640px) {
            /* show a smaller, less intrusive character on phones */
            .animated-character { display: flex; right: 10px; bottom: 10px; width: 92px; height: 110px; opacity: 0.98; }
            .char-float { animation-duration: 4.4s; }
            .char-robot svg { width: 100%; }
            .char-eye { transform-origin: center; }
        }

        /* speech bubble shown above the character */
        .char-bubble {
            position: absolute;
            bottom: 100%;
            right: 0;
            transform: translateY(8px) scale(0.96);
            opacity: 0;
            pointer-events: none;
            background: linear-gradient(90deg, rgba(155,107,255,0.12), rgba(0,240,255,0.08));
            color: #fff;
            padding: 8px 12px;
            border-radius: 12px;
            font-weight: 700;
            font-family: 'Orbitron', monospace;
            font-size: 0.95rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.45), 0 0 20px rgba(155,107,255,0.06);
            transition: transform 200ms ease, opacity 200ms ease;
            white-space: nowrap;
            z-index: 70;
        }

        .char-bubble::after {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: -8px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid rgba(155,107,255,0.12);
            filter: blur(0.2px);
        }

        .char-bubble.show { opacity: 1; transform: translateY(0) scale(1); }
    </style>
</head>
<body class="relative">
    <!-- Floating Hearts Background -->
    <div class="heart-bg" id="heartContainer"></div>
    
    <!-- Hidden audio element with your local song -->
    <audio id="hiddenAudio" loop preload="auto" crossorigin="anonymous">
        <source src="music/Christina Perri - A Thousand Years (Piano_Cello Co.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
    <!-- Main Content -->
    <div class="relative z-10">
        <!-- Hero Section -->
        <section class="hero-section min-h-screen flex items-center justify-center px-4 relative overflow-hidden">
            <div class="hero-gradient absolute inset-0"></div>
            
            <!-- Decorative elements -->
            <div class="absolute top-20 left-10 text-6xl floating hero-decor">‚ù§Ô∏è</div>
            <div class="absolute bottom-20 right-10 text-6xl floating hero-decor" style="animation-delay: 1s;">üíñ</div>
            <div class="absolute top-40 right-20 text-4xl floating hero-decor" style="animation-delay: 2s;">üíï</div>
            
            <div class="text-center relative">
                <div class="mb-8">
                    <span class="inline-block text-7xl heart-icon-pulse mb-4">‚ù§Ô∏è</span>
                </div>
                <h1 class="handwriting hero-title text-7xl md:text-9xl font-bold bg-gradient-to-r from-red-400 via-pink-500 to-rose-400 bg-clip-text text-transparent mb-6">
                    Happy Valentine's Day
                </h1>
                <p class="handwriting hero-subtitle text-5xl md:text-7xl text-pink-600 mb-8 drop-shadow-lg text-center mx-auto">
                    Ana Mae Nodalo Calumpag
                    <span class="inline-block animate-ping heart-icon-pulse text-4xl md:text-6xl">‚ù§Ô∏è</span>
                </p>
                
                <!-- Decorative hearts -->
                <div class="mt-12 flex justify-center space-x-6">
                    <span class="heart-icon-pulse text-3xl">üíó</span>
                    <span class="heart-icon-pulse text-3xl" style="animation-delay: 0.2s">üíñ</span>
                    <span class="heart-icon-pulse text-3xl" style="animation-delay: 0.4s">üíò</span>
                    <span class="heart-icon-pulse text-3xl" style="animation-delay: 0.6s">üíù</span>
                </div>
            </div>
            
            <!-- Scroll indicator -->
            <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce">
                <div class="w-6 h-10 border-2 border-pink-400 rounded-full flex justify-center">
                    <div class="w-1 h-3 bg-pink-400 rounded-full mt-2 animate-pulse"></div>
                </div>
            </div>
        </section>

        <div class="divider"></div>

        <!-- Love Letter Section -->
        <section class="py-20 px-4">
            <div class="max-w-4xl mx-auto">
                <div class="love-letter rounded-[3rem] p-8 md:p-16 relative">
                    <!-- Decorative corners -->
                    <div class="absolute top-5 left-5 text-3xl">üíå</div>
                    <div class="absolute top-5 right-5 text-3xl">üíå</div>
                    <div class="absolute bottom-5 left-5 text-3xl">üíå</div>
                    <div class="absolute bottom-5 right-5 text-3xl">üíå</div>
                    
                    <h2 class="handwriting text-5xl md:text-6xl text-center bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent mb-10">
                        Lang!,
                    </h2>
                    
                    <div class="handwriting text-2xl md:text-3xl text-white leading-relaxed space-y-6 max-w-2xl mx-auto">
                        <p class="relative pl-8">
                            <span class="absolute left-0 text-4xl">üí´</span>
                            Saon mani nako pag sugod ba, Hmmm... kabalo ka sukad tong mi abot kas akong kinabuhi na feel nako angayan kaayo mag pa bilin aris kalibutan basta kauban ka.
                        </p>
                        
                        <p class="relative pl-8">
                            <span class="absolute left-0 text-4xl">‚ú®</span>
                            Lami kaayos paminaw lang na naas kas akoa ron a feel jud nako og unsa ko ka importante sa imoha og mao sab ka sa akoa lang love kaayo tika uy!
                        </p>
                        
                        <p class="relative pl-8">
                            <span class="absolute left-0 text-4xl">üíù</span>
                            Unta kani nga simple message is maka palipay sa imoha bisag amay, dili ko ganahan mag post post kay wala ko ma anad man maong gi ingon nalang ani nalang nako ang pamaagi.
                        </p>
                        
                        <div class="mt-12 text-right">
                            <p class="handwriting text-4xl text-pink-600">Forever yours,</p>
                            <p class="handwriting text-4xl text-red-500 mt-2 relative inline-block">
                                - Jet
                                <span class="absolute -right-8 top-0 text-3xl heart-icon-pulse">‚ù§Ô∏è</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="divider"></div>

        <!-- Interactive Surprise Section -->
        <section class="py-20 px-4">
            <div class="max-w-4xl mx-auto">
                <div class="text-center mb-12">
                    <span class="inline-block text-6xl mb-4 floating">üéÅ</span>
                    <h2 class="handwriting text-5xl text-pink-600">A Little Surprise For You</h2>
                </div>
                
                <!-- Surprise Button -->
                <div class="text-center">
                    <button onclick="showSurprise()" class="surprise-button text-white font-bold py-6 px-12 rounded-full transition-all transform hover:scale-110 shadow-xl text-2xl relative overflow-hidden group">
                        <span class="relative z-10">Click for a Special Surprise! üéÅ</span>
                        <div class="absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity"></div>
                    </button>
                    
                    <div id="surpriseMessage" class="surprise-message hidden mt-12 p-12 rounded-[3rem] shadow-2xl">
                        <div class="relative">
                            <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 text-5xl">
                                üíù
                            </div>
                            <p class="handwriting text-3xl md:text-6xl text-white mb-8 text-center mx-auto leading-tight max-w-2xl">Dili ko mag sawa na higugmaon ka lang!</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                                <div class="text-left">
                                    <p class="text-2xl text-white leading-relaxed">
                                        Love tika kaayo lang, ayawg ka gool sa akoa kay ikaw ra akong higugmaon hantod sa hantod makita man sab na nimos akoa na dili ko interesado sa uban, isa pa syempre mag focus tas atong pag skwela kay mao ranay maka tabang sa atoa puhon support rako always sa imoha lang. Ayaw kalimot og pasalamat sa ginoo sa tanan nimong nadawat blessings or achievements karon na year.
                                    </p>
                                    <p class="handwriting text-3xl text-pink-600 mt-6">
                                        I love you more than all the stars in the sky! ‚≠ê
                                    </p>
                                </div>
                                <div class="flex justify-center space-x-4">
                                    <span class="text-7xl heart-icon-pulse">‚ù§Ô∏è</span>
                                    <span class="text-7xl heart-icon-pulse" style="animation-delay: 0.3s">üíñ</span>
                                    <span class="text-7xl heart-icon-pulse" style="animation-delay: 0.6s">üíó</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="divider"></div>

        <!-- Music Player with Multi-Color Bar Visualizer -->
        <section class="py-20 px-4">
            <div class="max-w-md mx-auto">
                <div class="music-player rounded-[2rem] p-8 relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-300 via-pink-300 to-red-300"></div>
                    
                    <!-- Multi-color Visualizer Bars (Always visible) -->
                    <div class="visualizer-container" id="visualizerContainer"></div>
                    
                    <div class="text-center mb-8 relative z-10">
                        <span class="inline-block text-5xl mb-4 floating">üéµ</span>
                        <h3 class="handwriting text-4xl text-pink-600">A Thousand Years</h3>
                        <p class="text-sm text-white mt-1">Christina Perri (Piano/Cello)</p>
                    </div>
                    
                    <!-- Album art simulation -->
                    <div class="w-40 h-40 mx-auto mb-8 rounded-full bg-gradient-to-br from-red-200 to-pink-200 flex items-center justify-center shadow-xl floating relative z-10">
                        <span class="text-6xl relative z-10">üéπ</span>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="progress-container relative z-10" id="progressContainer">
                        <div class="progress-bar" id="progressBar"></div>
                        <div class="progress-handle" id="progressHandle"></div>
                    </div>
                    
                    <!-- Time Display -->
                    <div class="time-display relative z-10">
                        <span id="currentTime">0:00</span>
                        <span id="duration">3:45</span>
                    </div>
                    
                    <div class="flex items-center justify-center space-x-6 mb-6 relative z-10">
                        <button class="text-4xl hover:text-red-500 transition-all transform hover:scale-125" id="prevBtn" title="Restart">‚èÆÔ∏è</button>
                        <button class="text-7xl hover:text-red-500 transition-all transform hover:scale-125 active:scale-95" id="playBtn">
                            ‚ñ∂Ô∏è
                        </button>
                        <button class="text-4xl hover:text-red-500 transition-all transform hover:scale-125" id="nextBtn" title="Replay">‚è≠Ô∏è</button>
                    </div>

                    <!-- Volume Control -->
                    <div class="flex justify-center items-center space-x-4 text-pink-400 relative z-10">
                        <span>üîä</span>
                        <input type="range" id="volumeControl" min="0" max="1" step="0.1" value="0.5" class="w-32 accent-pink-400">
                        <span class="text-sm text-gray-500">Volume</span>
                    </div>
                    
                    <!-- Song status -->
                    <div class="text-center mt-4 text-xs text-gray-400 relative z-10">
                        <span id="songStatus">Ready to play</span>
                    </div>
                </div>
            </div>
        </section>

        <div class="divider"></div>

        <!-- Countdown to Anniversary -->
        <section class="py-20 px-4">
            <div class="max-w-5xl mx-auto">
                <div class="romantic-card p-12 md:p-20 relative">
                    <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M30 45L15 30 30 15 45 30 30 45z" fill="%23ffb6c1" fill-opacity="0.1"/%3E%3C/svg%3E')]"></div>
                    
                    <div class="relative text-center">
                        <div class="mb-8">
                            <span class="inline-block text-7xl floating">‚è∞</span>
                        </div>
                        
                        <h2 class="handwriting text-6xl md:text-7xl text-pink-600 mb-4">
                            Counting Down to Our Special Day
                        </h2>
                        
                        <div class="mb-8">
                            <span id="anniversaryDate" class="inline-block bg-gradient-to-r from-red-500 to-pink-500 text-white px-8 py-3 rounded-full text-2xl font-light">
                                September 3, 2026
                            </span>
                        </div>
                        
                        <p class="text-xl text-white mb-12 max-w-2xl mx-auto">
                            The day we said "Hi!" and my world became complete
                        </p>
                        
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 max-w-3xl mx-auto">
                            <div class="countdown-number rounded-2xl p-6 text-center">
                                <div class="text-5xl md:text-6xl font-bold text-red-500 mb-2" id="days">00</div>
                                <div class="text-white uppercase tracking-wider text-sm">Days</div>
                            </div>
                            <div class="countdown-number rounded-2xl p-6 text-center">
                                <div class="text-5xl md:text-6xl font-bold text-red-500 mb-2" id="hours">00</div>
                                <div class="text-white uppercase tracking-wider text-sm">Hours</div>
                            </div>
                            <div class="countdown-number rounded-2xl p-6 text-center">
                                <div class="text-5xl md:text-6xl font-bold text-red-500 mb-2" id="minutes">00</div>
                                <div class="text-white uppercase tracking-wider text-sm">Minutes</div>
                            </div>
                            <div class="countdown-number rounded-2xl p-6 text-center">
                                <div class="text-5xl md:text-6xl font-bold text-red-500 mb-2" id="seconds">00</div>
                                <div class="text-white uppercase tracking-wider text-sm">Seconds</div>
                            </div>
                        </div>
                        
                        <div class="mt-12">
                            <p class="handwriting text-4xl text-pink-600 mb-4">
                                Can't wait to celebrate with you, love!
                            </p>
                            <div class="flex justify-center space-x-4">
                                <span class="text-3xl">üíë</span>
                                <span class="text-3xl">üíï</span>
                                <span class="text-3xl">üíû</span>
                                <span class="text-3xl">üíì</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="divider"></div>

        <!-- Romantic Quote Section -->
        <section class="py-16 px-4">
            <div class="max-w-3xl mx-auto">
                    <div class="bg-white/50 backdrop-blur-sm rounded-[3rem] p-12 text-center relative">
                    <div class="absolute -top-5 left-1/2 transform -translate-x-1/2 text-4xl bg-white px-4 rounded-full">
                        üíï
                    </div>
                    
                    <p class="handwriting text-4xl md:text-5xl text-white leading-relaxed mb-6">
                        "Ikaw na jud<br>wala nakoy la-ing<br>gina pamiling lang,<br>I love you so much,<br> and Happy Valentine's Day."
                    </p>
                    
                    <div class="flex justify-center space-x-6 mt-8">
                        <span class="text-4xl heart-icon-pulse">‚ù§Ô∏è</span>
                        <span class="text-4xl heart-icon-pulse" style="animation-delay: 0.2s">üß°</span>
                        <span class="text-4xl heart-icon-pulse" style="animation-delay: 0.4s">üíõ</span>
                        <span class="text-4xl heart-icon-pulse" style="animation-delay: 0.6s">üíö</span>
                        <span class="text-4xl heart-icon-pulse" style="animation-delay: 0.8s">üíô</span>
                        <span class="text-4xl heart-icon-pulse" style="animation-delay: 1s">üíú</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="py-12 px-4 mt-20 relative">
            <div class="absolute inset-0 bg-gradient-to-t from-pink-100/50 to-transparent"></div>
            
            <div class="relative max-w-4xl mx-auto text-center">
                <div class="mb-6">
                    <span class="inline-block text-5xl floating">üíå</span>
                </div>
                
                <p class="text-white mb-6">
                    ¬© 2026, Jet Habac.<br> All rights reserved.
                </p>
                
                <div class="flex justify-center space-x-8 text-white">
                    <span>‚ù§Ô∏è</span>
                    <span>üíñ</span>
                    <span>üíó</span>
                    <span>üíì</span>
                    <span>üíï</span>
                    <span>üíû</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Animated character bottom-right -->
    <div class="animated-character" id="animatedCharacter" title="Say hi!">
        <div class="char-bubble" id="charBubble" role="status" aria-hidden="true">I Love You!</div>
        <div class="char-float char-robot char-shadow" role="img" aria-label="cute animated companion">
            <!-- Enhanced SVG robot/companion with mouth and clearer features -->
            <svg viewBox="0 0 120 140" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
                <defs>
                    <linearGradient id="g1" x1="0" x2="1">
                        <stop offset="0" stop-color="#9b6bff" />
                        <stop offset="1" stop-color="#00f0ff" />
                    </linearGradient>
                    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur stdDeviation="6" result="coloredBlur" />
                        <feMerge>
                            <feMergeNode in="coloredBlur" />
                            <feMergeNode in="SourceGraphic" />
                        </feMerge>
                    </filter>
                </defs>

                <g transform="translate(10,6)">
                    <!-- body -->
                    <rect x="10" y="20" rx="14" ry="14" width="100" height="80" fill="url(#g1)" opacity="0.98" />
                    <!-- face band -->
                    <rect x="28" y="6" width="64" height="26" rx="8" fill="#071026" />

                    <!-- left eye group -->
                    <g class="char-eye" id="eyeL" transform="translate(0,0)">
                        <circle cx="48" cy="54" r="6" fill="#071026" />
                        <circle cx="46" cy="52" r="2" fill="#ffffff" opacity="0.9" />
                    </g>

                    <!-- right eye group -->
                    <g class="char-eye" id="eyeR" transform="translate(0,0)">
                        <circle cx="80" cy="54" r="6" fill="#071026" />
                        <circle cx="78" cy="52" r="2" fill="#ffffff" opacity="0.9" />
                    </g>

                    <!-- mouth (ellipse, toggle class to smile) -->
                    <ellipse class="char-mouth" id="charMouth" cx="64" cy="76" rx="10" ry="4" fill="#071026" />

                    <!-- small speaker grill -->
                    <rect x="56" y="74" width="16" height="6" rx="3" fill="#0b1020" opacity="0.06" />

                    <!-- antenna -->
                    <g id="antenna">
                        <rect x="58" y="-4" width="4" height="10" fill="#ff4dd2" rx="2" />
                        <circle cx="60" cy="-6" r="4" fill="#ffb6c1" />
                    </g>
                </g>
            </svg>
        </div>
    </div>

    <script>
        // Floating Neon Shapes
        function createHeart() {
            const heartContainer = document.getElementById('heartContainer');
            const el = document.createElement('div');
            el.classList.add('floating-heart');

            // Futuristic shapes and glyphs
            const shapes = ['‚óà','‚óÜ','‚óá','‚¨¢','‚ñ£','‚ñ¶','‚ú¶','‚úß'];
            const colors = ['#00f0ff','#9b6bff','#ff4dd2','#44ffd6'];
            el.textContent = shapes[Math.floor(Math.random() * shapes.length)];

            const left = Math.random() * 100;
            el.style.left = left + '%';
            el.style.fontSize = (Math.random() * 28 + 14) + 'px';
            el.style.animationDuration = (Math.random() * 6 + 6) + 's';
            el.style.animationDelay = (Math.random() * 2) + 's';
            el.style.color = colors[Math.floor(Math.random() * colors.length)];
            el.style.opacity = 0.85;

            heartContainer.appendChild(el);

            setTimeout(() => {
                el.remove();
            }, 14000);
        }
        
        // Create hearts more frequently for better effect
        setInterval(createHeart, 300);

        // Surprise Message
        function showSurprise() {
            const surprise = document.getElementById('surpriseMessage');
            if (surprise.style.display === 'none' || surprise.style.display === '') {
                surprise.style.display = 'block';
                surprise.classList.add('fade-in');
                
                // Create celebration hearts
                for(let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        createHeart();
                    }, i * 100);
                }
            } else {
                surprise.style.display = 'none';
            }
        }

        // Countdown Timer to next September 3 anniversary (based on current date/time)
        function getNextAnniversaryDate() {
            const now = new Date();
            const year = now.getFullYear();
            // JS months are 0-based: September = 8
            let anniversary = new Date(year, 8, 3, 0, 0, 0, 0);
            if (anniversary.getTime() <= now.getTime()) {
                anniversary = new Date(year + 1, 8, 3, 0, 0, 0, 0);
            }
            return anniversary;
        }

        function updateCountdown() {
            const now = new Date().getTime();
            const anniversary = getNextAnniversaryDate();
            const anniversaryTime = anniversary.getTime();
            const distance = anniversaryTime - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = String(Math.max(0, days)).padStart(2, '0');
            document.getElementById('hours').textContent = String(Math.max(0, hours)).padStart(2, '0');
            document.getElementById('minutes').textContent = String(Math.max(0, minutes)).padStart(2, '0');
            document.getElementById('seconds').textContent = String(Math.max(0, seconds)).padStart(2, '0');

            // Update displayed anniversary date header
            const annEl = document.getElementById('anniversaryDate');
            if (annEl) {
                annEl.textContent = anniversary.toLocaleDateString(undefined, { month: 'long', day: 'numeric', year: 'numeric' });
            }
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();

        // ========== MUSIC PLAYER WITH MULTI-COLOR BAR VISUALIZER ==========
        const audio = document.getElementById('hiddenAudio');
        const playBtn = document.getElementById('playBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const volumeControl = document.getElementById('volumeControl');
        const songStatus = document.getElementById('songStatus');
        const visualizerContainer = document.getElementById('visualizerContainer');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');
        const progressHandle = document.getElementById('progressHandle');
        const currentTimeSpan = document.getElementById('currentTime');
        const durationSpan = document.getElementById('duration');
        
        let isPlaying = false;
        let audioContext = null;
        let analyser = null;
        let source = null;
        let animationFrame = null;
        let visualizerActive = false;

        // Neon gradients for a futuristic visualizer
        const colorPalette = [
            '#00f0ff', // cyan
            '#44ffd6', // aqua
            '#9b6bff', // violet
            '#ff4dd2', // magenta
            '#7effb2', // mint
            '#6be0ff'
        ];

        // Create visualizer bars
        function createVisualizerBars() {
            visualizerContainer.innerHTML = '';
            for (let i = 0; i < 45; i++) { // More bars for richer visual
                const bar = document.createElement('div');
                bar.classList.add('visualizer-bar');
                bar.style.height = '5px';
                bar.style.animationDelay = `${i * 0.03}s`;
                
                // Assign random color from palette (changes dynamically later)
                const randomColor = colorPalette[Math.floor(Math.random() * colorPalette.length)];
                bar.style.background = `linear-gradient(to top, ${randomColor}, ${randomColor}dd, ${randomColor}88)`;
                
                // Varied widths for visual interest
                if (i % 4 === 0) bar.style.width = '16px';
                else if (i % 4 === 1) bar.style.width = '12px';
                else if (i % 4 === 2) bar.style.width = '10px';
                else bar.style.width = '8px';
                
                visualizerContainer.appendChild(bar);
            }
        }
        createVisualizerBars();

        // Format time (seconds to MM:SS)
        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // Update progress bar and time
        function updateProgress() {
            if (audio.duration) {
                const progress = (audio.currentTime / audio.duration) * 100;
                progressBar.style.width = progress + '%';
                progressHandle.style.left = progress + '%';
                currentTimeSpan.textContent = formatTime(audio.currentTime);
                durationSpan.textContent = formatTime(audio.duration);
            }
        }

        // Initialize Audio Context
        function initAudioContext() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                analyser = audioContext.createAnalyser();
                analyser.fftSize = 256;
                source = audioContext.createMediaElementSource(audio);
                source.connect(analyser);
                analyser.connect(audioContext.destination);
            }
        }

        // Update visualizer
        function updateVisualizer() {
            if (!analyser || !isPlaying) return;
            
            const dataArray = new Uint8Array(analyser.frequencyBinCount);
            analyser.getByteFrequencyData(dataArray);
            
            // Update progress
            updateProgress();
            
            // Update bars with dynamic colors based on frequency
            const bars = document.querySelectorAll('.visualizer-bar');
            const step = Math.floor(dataArray.length / bars.length);
            
            bars.forEach((bar, i) => {
                const value = dataArray[i * step] / 255; // Normalize 0-1
                const height = Math.max(5, value * 110); // Min 5px, max 115px
                bar.style.height = height + 'px';
                
                // Dynamic multi-color based on frequency and intensity
                const intensity = 0.5 + value * 0.5;
                
                // Create rich gradient with multiple colors
                if (value > 0.7) {
                    // High intensity - vibrant reds and oranges
                    bar.style.background = `linear-gradient(to top, #ff4500, #ff6b6b, #ffb6b6)`;
                } else if (value > 0.4) {
                    // Medium intensity - pinks and corals
                    bar.style.background = `linear-gradient(to top, #ff69b4, #ff8e8e, #ffb6c1)`;
                } else {
                    // Low intensity - soft pinks and golds
                    bar.style.background = `linear-gradient(to top, #ffb6c1, #ffd9d9, #fff0f5)`;
                }
                
                // Add glow effect based on intensity
                bar.style.boxShadow = `0 -2px ${10 + value * 20}px rgba(255, ${100 + value * 155}, ${100 + value * 155}, 0.8)`;
                
                // Random color variation for some bars
                if (i % 5 === 0 && value > 0.5) {
                    bar.style.background = `linear-gradient(to top, #ffd700, #ffa500, #ff8c00)`;
                } else if (i % 7 === 0 && value > 0.3) {
                    bar.style.background = `linear-gradient(to top, #ff1493, #ff69b4, #ffb6c1)`;
                }
            });
            
            animationFrame = requestAnimationFrame(updateVisualizer);
        }

        // Set initial volume
        if (audio && volumeControl) {
            audio.volume = 0.5;
        }

        // Get audio duration when metadata loaded
        audio.addEventListener('loadedmetadata', () => {
            durationSpan.textContent = formatTime(audio.duration);
        });

        // Progress bar click to seek
        if (progressContainer && audio) {
            progressContainer.addEventListener('click', (e) => {
                const rect = progressContainer.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const width = rect.width;
                const seekTime = (clickX / width) * audio.duration;
                audio.currentTime = seekTime;
                updateProgress();
            });
        }

        // Play/Pause functionality
        if (playBtn && audio) {
            playBtn.addEventListener('click', async () => {
                if (audio.paused) {
                    try {
                        // Initialize audio context on user interaction
                        if (!audioContext) {
                            initAudioContext();
                        }
                        if (audioContext && audioContext.state === 'suspended') {
                            await audioContext.resume();
                        }
                        
                        await audio.play();
                        playBtn.textContent = '‚è∏Ô∏è';
                        playBtn.classList.add('animate-pulse');
                        songStatus.textContent = 'Now Playing: A Thousand Years';
                        isPlaying = true;
                        
                        // Start visualizer
                        if (analyser && !visualizerActive) {
                            visualizerActive = true;
                            updateVisualizer();
                        }
                        
                        // Create floating musical hearts
                        for(let i = 0; i < 5; i++) {
                            setTimeout(() => {
                                createHeart();
                            }, i * 200);
                        }
                    } catch (e) {
                        console.log("Playback failed: ", e);
                        songStatus.textContent = 'Error: Click to try again';
                        alert("Audio playback failed. Make sure the MP3 file is in the music folder.\n\nFile name: Christina Perri - A Thousand Years (Piano_Cello Co.mp3");
                    }
                } else {
                    audio.pause();
                    playBtn.textContent = '‚ñ∂Ô∏è';
                    playBtn.classList.remove('animate-pulse');
                    songStatus.textContent = 'Paused';
                    isPlaying = false;
                    
                    // Stop visualizer updates but keep bars at minimum
                    if (animationFrame) {
                        cancelAnimationFrame(animationFrame);
                        visualizerActive = false;
                        
                        // Reset bars to minimum
                        document.querySelectorAll('.visualizer-bar').forEach(bar => {
                            bar.style.height = '5px';
                            bar.style.background = 'linear-gradient(to top, #ffb6c1, #ffd9d9, #fff0f5)';
                            bar.style.boxShadow = '0 -2px 10px rgba(255, 182, 193, 0.5)';
                        });
                    }
                }
            });
        }

        // Previous button (restart)
        if (prevBtn && audio) {
            prevBtn.addEventListener('click', () => {
                audio.currentTime = 0;
                if (!audio.paused) {
                    audio.play();
                }
                songStatus.textContent = 'Restarting song...';
                setTimeout(() => {
                    songStatus.textContent = audio.paused ? 'Paused' : 'Now Playing: A Thousand Years';
                }, 500);
                updateProgress();
                
                // Create hearts
                for(let i = 0; i < 3; i++) setTimeout(() => createHeart(), i*100);
            });
        }

        // Next button (replay)
        if (nextBtn && audio) {
            nextBtn.addEventListener('click', () => {
                audio.currentTime = 0;
                if (!audio.paused) {
                    audio.play();
                }
                songStatus.textContent = 'Replaying song...';
                setTimeout(() => {
                    songStatus.textContent = audio.paused ? 'Paused' : 'Now Playing: A Thousand Years';
                }, 500);
                updateProgress();
                
                for(let i = 0; i < 3; i++) setTimeout(() => createHeart(), i*100);
            });
        }

        // Volume control
        if (volumeControl && audio) {
            volumeControl.addEventListener('input', (e) => {
                audio.volume = e.target.value;
            });
        }

        // When audio ends
        if (audio) {
            audio.addEventListener('ended', () => {
                playBtn.textContent = '‚ñ∂Ô∏è';
                playBtn.classList.remove('animate-pulse');
                songStatus.textContent = 'Song ended';
                isPlaying = false;
                
                // Reset visualizer
                if (animationFrame) {
                    cancelAnimationFrame(animationFrame);
                    visualizerActive = false;
                    document.querySelectorAll('.visualizer-bar').forEach(bar => {
                        bar.style.height = '5px';
                        bar.style.background = 'linear-gradient(to top, #ffb6c1, #ffd9d9, #fff0f5)';
                        bar.style.boxShadow = '0 -2px 10px rgba(255, 182, 193, 0.5)';
                    });
                }
                
                // Reset progress bar
                progressBar.style.width = '0%';
                progressHandle.style.left = '0%';
                currentTimeSpan.textContent = '0:00';
            });
        }

        // Update progress while playing
        audio.addEventListener('timeupdate', updateProgress);

        // Intersection Observer for fade-in animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Apply to sections
        document.querySelectorAll('section').forEach((section) => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(30px)';
            section.style.transition = 'opacity 1s ease, transform 1s ease';
            observer.observe(section);
        });

        // Add smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Parallax effect for hearts
        window.addEventListener('scroll', () => {
            const hearts = document.querySelectorAll('.floating-heart');
            hearts.forEach(heart => {
                const speed = 0.5;
                const rect = heart.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    heart.style.transform = `translateY(${window.scrollY * speed}px)`;
                }
            });
        });

        // Check if audio file exists
        window.addEventListener('load', function() {
            audio.addEventListener('error', function() {
                songStatus.textContent = '‚ö†Ô∏è Audio file not found';
                console.error('Audio file not found. Make sure "Christina Perri - A Thousand Years (Piano_Cello Co.mp3" is in the music folder.');
            });
        });

        // Handle page visibility change to prevent audio context issues
        document.addEventListener('visibilitychange', () => {
            if (document.hidden && audioContext) {
                audioContext.suspend();
            } else if (!document.hidden && audioContext && audioContext.state === 'suspended' && isPlaying) {
                audioContext.resume();
            }
        });

        // Animated character interactivity
        (function setupAnimatedCharacter(){
            const char = document.getElementById('animatedCharacter');
            if (!char) return;
                const mouth = document.getElementById('charMouth');
                const eyeL = document.getElementById('eyeL');
                const eyeR = document.getElementById('eyeR');
                const bubble = document.getElementById('charBubble');
                let bubbleTimer = null;

            // Eye follow: small translate within bounds when mouse moves over character
            function handlePointerMove(clientX, clientY) {
                const rect = char.getBoundingClientRect();
                const cx = rect.left + rect.width/2;
                const cy = rect.top + rect.height/2;
                const dx = (clientX - cx) / rect.width; // -0.5..0.5
                const dy = (clientY - cy) / rect.height;
                const max = 3; // px movement
                const tx = Math.max(-max, Math.min(max, dx * max * 4));
                const ty = Math.max(-max, Math.min(max, dy * max * 4));
                if (eyeL) eyeL.setAttribute('transform', `translate(${tx},${ty})`);
                if (eyeR) eyeR.setAttribute('transform', `translate(${tx},${ty})`);
            }

            char.addEventListener('mousemove', (e) => { handlePointerMove(e.clientX, e.clientY); });
            // mobile: follow touch
            char.addEventListener('touchmove', (e) => { if(e.touches && e.touches[0]) handlePointerMove(e.touches[0].clientX, e.touches[0].clientY); }, {passive:true});

            // On click/tap: wave + smile briefly + spawn glyphs
            function triggerInteraction() {
                // wave animation
                const robot = char.querySelector('.char-robot');
                if (robot) {
                    robot.classList.add('char-wave');
                    setTimeout(() => robot.classList.remove('char-wave'), 420);
                }

                // smile briefly
                if (mouth) {
                    mouth.classList.add('smile');
                    setTimeout(() => mouth.classList.remove('smile'), 900);
                }

                // show speech bubble briefly
                if (bubble) {
                    bubble.classList.add('show');
                    bubble.setAttribute('aria-hidden', 'false');
                    if (bubbleTimer) clearTimeout(bubbleTimer);
                    bubbleTimer = setTimeout(() => {
                        bubble.classList.remove('show');
                        bubble.setAttribute('aria-hidden', 'true');
                        bubbleTimer = null;
                    }, 1800);
                }

                // spawn neon glyphs
                for (let i=0;i<8;i++) {
                    setTimeout(() => { try { createHeart(); } catch(e){} }, i*70);
                }
            }

            char.addEventListener('click', (e) => { triggerInteraction(); });
            char.addEventListener('touchstart', (e) => { triggerInteraction(); });

            // On page load / refresh: show greeting bubble briefly
            if (bubble) {
                const originalText = bubble.textContent;
                bubble.textContent = "Hi, I'm Jet!";
                bubble.classList.add('show');
                bubble.setAttribute('aria-hidden', 'false');
                if (bubbleTimer) clearTimeout(bubbleTimer);
                bubbleTimer = setTimeout(() => {
                    bubble.classList.remove('show');
                    bubble.setAttribute('aria-hidden', 'true');
                    bubbleTimer = null;
                    // restore bubble text for later clicks
                    bubble.textContent = originalText;
                }, 2000);
            }
        })();
    </script>
</body>
</html>
